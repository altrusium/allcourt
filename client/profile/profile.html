<template name="profileDetails">
	{{> tabs}}
	{{> userMessages}}
	<div class="row">
		{{#with details}}
		<div class="span3">
				{{#if photoFile}}
					<img class="user-photo" src="{{photoFile}}"><br>
				{{else}}
					<div class="{{#if isMale}}male{{else}}female{{/if}} photo-placeholder"></div>
				{{/if}}}
				<p><button id="editProfile" class="btn" data-user-id="{{_id}}">Edit Profile</button></p>
		</div>
		<div class="user-details span4">
			<h3>{{fullName}}</h3>
			<p>{{email}}</p>
		</div>
		<!-- show role-specific details here -->
		{{/with}}
		<div class="user-details span5">
			{{#if myTournamentsExist}}
			<h3>My Tournaments</h3>
			{{#each myTournaments}}
			<div class="media">
				<a class="pull-left" href="#">
					<img class="media-object" data-src="">
				</a>
				<div class="media-body">
					<h4 class="media-heading"><a href="/tournament/{{_id}}">{{tournamentName}}</a></h4>
				</div>
			</div>
			{{/each}}
			{{/if}}

			{{#if availableTournamentsExist}}
			<h3>Available Tournaments</h3>
			{{#each availableTournaments}}
			<div class="media">
				<a class="pull-left" href="#">
					<img class="media-object" data-src="">
				</a>
				<div class="media-body">
					<h4 class="media-heading">{{tournamentName}}</h4>
					<p><a href="/tournament/{{_id}}/signup">Sign up</a></p>
				</div>
			</div>
			{{/each}}
			{{/if}}
		</div>
	</div>
</template>



<template name="profileEdit">
	{{> tabs}}
	{{> userMessages}}
	<div class="row">
		<form method="post">
		<div class="span5">
      {{#with details}}
			<form class="form-horizontal">
				<div id="photoPlaceholder" class="{{#if isMale}}male{{else}}female{{/if}} photo-placeholder empty">
					<img src="{{photoFile}}" id="photoImg">
				</div>
				<div class="control-group">
					<label class="control-label" for="photo">Photo</label>
					<div class="controls">
						<button id="pickPhoto" type="button" class="btn input-medium">Select File</button>
						<input type="hidden" id="photoFilename" value="{{photoFilename}}">
					</div>
				</div>
				<div class="control-group">
					<label class="control-label" for="email">Email</label>
					<div class="controls">
						<input type="text" id="email" class="input-medium" value="{{email}}" required>
					</div>
				</div>
				<div class="control-group">
					<label class="control-label" for="firstName">First Name</label>
					<div class="controls">
						<input type="text" id="firstName" class="input-medium" value="{{firstName}}" required>
					</div>
				</div>
				<div class="control-group">
					<label class="control-label" for="lastName">Last Name</label>
					<div class="controls">
						<input type="text" id="lastName" class="input-medium" value="{{lastName}}" required>
					</div>
				</div>
				<div class="control-group">
					<label class="control-label" for="gender">Gender</label>
					<div class="controls">
						<label class="radio inline">
							<input type="radio" id="maleGender" name="gender" value="male" {{#if isMale}}checked{{/if}}> male
						</label>
						<label class="radio inline">
							<input type="radio" id="femaleGender" name="gender" value="female" {{#unless isMale}}checked{{/unless}}> female
						</label>
					</div>
				</div>
				<div class="control-group">
					<div class="controls">
						<button type="button" id="saveProfile" class="btn btn-primary">Save Profile</button>
					</div>
				</div>
			</form>
      {{/with}}
		</div>
		<div class="span5">
      {{#with volunteerDetails}}
			<form class="form-horizontal">
				<div class="control-group">
					<label class="control-label" for="shirtSize">Shirt Size</label>
					<div class="controls">
						<select id="shirtSize" class="input-small">
							{{#select shirtSize}}
							<option value=""></option>
							<option value="3XS">3XS</option>
							<option value="2XS">2XS</option>
							<option value="XS">XS</option>
							<option value="S">S</option>
							<option value="M">M</option>
							<option value="L">L</option>
							<option value="XL">XL</option>
							<option value="2XL">2XL</option>
							<option value="3XL">3XL</option>
							<option value="4XL">4XL</option>
							{{/select}}
						</select>
					</div>
				</div>
				<div class="control-group">
					<label for="birthdate" class="control-label">Birthdate</label>
					<div class="controls">
						<div class="input-append">
							<input type="text" class="birthDatepicker input-small" id="birthdate" data-date-format="dd/mm/yyyy" value="{{birthdate}}" required>
							<span class="add-on" id="birthdateIcon"><i class="icon-calendar"></i></span>
						</div>
						<span class="help-block">Not a valid date</span>
					</div>
				</div>
				<div class="control-group">
					<label class="control-label" for="homePhone">Home Phone</label>
					<div class="controls">
						<input type="text" id="homePhone" value="{{homePhone}}">
					</div>
				</div>
				<div class="control-group">
					<label class="control-label" for="mobilePhone">Mobile Phone</label>
					<div class="controls">
						<input type="text" id="mobilePhone" value="{{mobilePhone}}">
					</div>
				</div>
				<div class="control-group">
					<label class="control-label" for="firstName">Address</label>
					<div class="controls">
						<input type="text" id="address" value="{{address}}">
					</div>
				</div>
				<div class="control-group">
					<label class="control-label" for="suburb">Suburb</label>
					<div class="controls">
						<input type="text" id="suburb" value="{{suburb}}">
					</div>
				</div>
				<div class="control-group">
					<label class="control-label" for="city">City</label>
					<div class="controls">
						<input type="text" id="city" value="{{city}}">
					</div>
				</div>
				<div class="control-group">
					<label class="control-label" for="postalCode">Postal Code</label>
					<div class="controls">
						<input type="text" id="postalCode" value="{{postalCode}}" class="input-small">
					</div>
				</div>
			</form>
      {{/with}}
		</div>
		</form>
	</div>
</template>

